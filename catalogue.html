<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Catalogue officiel MULTIPARTS : D√©couvrez nos marques partenaires pour le secteur industriel en C√¥te d'Ivoire et Afrique de l'Ouest.">
    <title>Catalogue MULTIPARTS - Marques Partenaires</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <style>
        /* Version_63_Design_Pro_Clean */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Gris tr√®s l√©ger pour le fond g√©n√©ral */
            color: #334155;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        
        /* --- PRELOADER --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ffffff; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s ease-out, visibility 0.5s;
        }
        .loader-content { text-align: center; width: 80%; max-width: 300px; }
        .loader-bar-bg { width: 100%; height: 6px; background-color: #e2e8f0; border-radius: 3px; margin-top: 20px; overflow: hidden; }
        .loader-bar-fill { height: 100%; width: 0%; background-color: #1e40af; transition: width 0.2s ease; }
        .loader-text { margin-top: 10px; color: #64748b; font-size: 0.9rem; font-weight: 600; }
        body.loading { overflow: hidden; }

        /* --- CONTENEUR PRINCIPAL (Carte Blanche) --- */
        .catalog-container-pro {
            max-width: 1200px; /* Largeur id√©ale pour la lecture */
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 40px rgba(0,0,0,0.05); /* Ombre diffuse √©l√©gante */
        }
        
        .content-wrapper { padding: 20px 30px 60px 30px; }
        @media (max-width: 640px) { .content-wrapper { padding: 15px; } }

        .header-title-box { 
            text-align: center; 
            padding: 40px 20px; 
            background: linear-gradient(to bottom, #ffffff, #f8fafc);
            border-bottom: 1px solid #e2e8f0;
        }

        /* --- TABLEAUX MODERNES --- */
        .table-custom { border-collapse: separate; border-spacing: 0; width: 100%; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden; }
        .table-custom th { 
            background-color: #f1f5f9; 
            color: #475569; 
            font-weight: 700; 
            padding: 14px 16px; 
            text-align: left; 
            font-size: 0.9rem; 
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid #e2e8f0;
        }
        .table-custom td { padding: 14px 16px; border-bottom: 1px solid #f1f5f9; vertical-align: top; }
        .table-custom tr:last-child td { border-bottom: none; }
        .table-custom tr:hover { background-color: #f8fafc; }
        
        /* Highlight au clic/focus */
        .table-custom tr.show { background-color: #f0fdf4 !important; }

        @media screen and (max-width: 639px) {
            .table-custom { display: block; border: none; }
            .table-custom thead { display: none; }
            .table-custom tbody, .table-custom tr, .table-custom td { display: block; width: 100%; }
            .table-custom tr { margin-bottom: 15px; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden; }
            .table-custom td { padding: 12px; border-bottom: 1px solid #f1f5f9; }
            .table-custom td:last-child { background: #f8fafc; color: #64748b; font-size: 0.9em; }
        }

        .brand-row td:first-child { position: relative; width: 40%; font-weight: 600; color: #1e3a8a; } 
        .consumables-inline { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100%; color: #64748b; font-size: 0.9rem; }
        
        /* Popup Consommables */
        .consumables-popup {
            display: none; position: absolute; left: 100%; top: 0; margin-left: 15px; width: 320px; max-width: calc(100vw - 40px);
            max-height: 400px; overflow-y: auto; background: #ffffff; border: 1px solid #e2e8f0;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1); 
            padding: 16px; border-radius: 8px; z-index: 60; color: #334155; font-size: 0.9rem; line-height: 1.5; font-weight: normal;
        }
        .consumables-popup::before { content: ""; position: absolute; left: -6px; top: 16px; width: 12px; height: 12px; background: white; transform: rotate(45deg); border-left: 1px solid #e2e8f0; border-bottom: 1px solid #e2e8f0; }
        
        .brand-row:hover td:first-child .consumables-popup, 
        .brand-row:focus-within td:first-child .consumables-popup, 
        .brand-row.show td:first-child .consumables-popup { display: block; }
        
        @media screen and (max-width: 639px) {
          .consumables-popup { position: static; left: auto; top: auto; margin: 0; width: 100%; max-height: none; box-shadow: none; border: none; background: transparent; padding: 10px 0 0 0; color: #475569; }
          .consumables-popup::before { display: none; }
        }

        .no-screen { display: none !important; }        
        
        /* Section Styles */
        .table-group { margin-bottom: 25px; border: 1px solid #e2e8f0; border-radius: 8px; background: white; overflow: hidden; }
        
        .section-header { 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 15px 20px; 
            background: #ffffff; 
            cursor: pointer;
            transition: background 0.2s;
        }
        .section-header:hover { background: #f8fafc; }
        
        .section-header h3 { font-size: 1.15rem; font-weight: 700; color: #1e3a8a; margin: 0; display: flex; align-items: center; gap: 12px; }
        @media screen and (min-width: 640px) { .section-header h3 { font-size: 1.3rem; } }
        
        .toggle-icon { 
            width: 28px; height: 28px; border-radius: 50%; background: #f1f5f9; color: #64748b; 
            display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; transition: all 0.2s; 
        }
        .table-group.active .toggle-icon { background: #1e40af; color: white; transform: rotate(180deg); }
        .table-group.active .section-header { border-bottom: 1px solid #e2e8f0; background: #f8fafc; }

        .section-content { display: none; padding: 20px; } 
        .section-content.open { display: block; animation: slideDown 0.3s ease-out; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
          
        .back-to-top { position: fixed; bottom: 20px; right: 20px; z-index: 30; background-color: #1e40af; color: white; border-radius: 50%; padding: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25); transition: background-color 0.3s; }
        .back-to-top:hover { background-color: #1e3a8a; }

        /* Animation WhatsApp */
        .whatsapp-float { position: fixed; bottom: 20px; left: 20px; background-color: #25d366; color: white; border-radius: 50%; width: 56px; height: 56px; z-index: 40; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: transform 0.3s; }
        .whatsapp-float:hover { transform: scale(1.1); }
        
        /* Panneau Jaune (Nouvelle Version √âpur√©e) */
        .expertise-intro-box { 
            background: #fffbeb; 
            border: 1px solid #fcd34d; 
            border-radius: 8px; 
            padding: 20px; 
            text-align: center;
            margin-bottom: 30px;
            color: #92400e;
        }

        .menu-link { transition: background 0.18s; }
        .menu-link:hover { background: #eff6ff; color: #1e40af !important; }
        .dropdown-menu a { display: block; padding: 8px 12px; color: #1f2937; text-decoration: none; transition: background-color 0.12s; }
        .dropdown-menu a:hover { background-color: #f1f5f9; color: #1e40af; }
        
        /* SCROLL ARROW */
        .scroll-arrow-wrapper { text-align: center; margin-bottom: 30px; margin-top: 10px; }
        .scroll-arrow { 
            display: inline-flex; flex-direction: column; align-items: center; 
            color: #cbd5e1; cursor: pointer; transition: color 0.3s; 
        }
        .scroll-arrow:hover { color: #1e40af; }
        .scroll-arrow svg { width: 30px; height: 30px; animation: bounce 2s infinite; }
        .scroll-arrow span { font-size: 0.75rem; text-transform: uppercase; font-weight: 600; letter-spacing: 1px; margin-bottom: 5px; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }

        @media print {
            .catalog-container-pro { box-shadow: none; max-width: 100%; margin: 0; padding: 0; }
            .header-title-box, .scroll-arrow-wrapper, .whatsapp-float, .back-to-top, .toggle-icon { display: none !important; }
            .section-content { display: block !important; padding: 0; }
            .table-group { border: none; margin-bottom: 20px; }
            .section-header { border-bottom: 2px solid #000; padding: 10px 0; }
        }
    </style>
</head>
<body class="loading">

    <div id="preloader">
        <div class="loader-content">
            <img src="logo-multiparts.png" alt="Chargement..." style="height: 50px; margin: 0 auto;">
            <div class="loader-bar-bg"><div class="loader-bar-fill" id="loaderBar"></div></div>
            <div class="loader-text" id="loaderText">Chargement... 0%</div>
        </div>
    </div>

    <a href="https://wa.me/2250709399529" class="whatsapp-float no-print" target="_blank" rel="noopener" aria-label="Discuter sur WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
            <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
        </svg>
    </a>

    <header class="flex items-center px-4 sm:px-6 py-2 bg-white shadow-sm sticky top-0 z-50 no-print border-b border-gray-100">
        <a href="index.html" class="shrink-0 sm:mr-10">
            <img src="logo-multiparts.png" alt="Logo" class="h-10 w-auto">
        </a>
        <nav class="flex-1 min-w-0">
            <ul class="flex flex-wrap space-x-2 sm:space-x-6 justify-end sm:justify-start items-center w-full text-sm">
                <li class="relative">
                    <button id="sommaireToggle" class="menu-link font-medium text-gray-700 px-3 py-2 rounded inline-flex items-center gap-2 group">
                        <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
                        <span class="hidden sm:inline">Sommaire</span>
                    </button>
                    <ul id="sommaireMenu" class="dropdown-menu hidden absolute left-0 mt-2 w-64 bg-white border rounded-md shadow-lg py-2 z-50"></ul>
                </li>
                <li>
                    <a href="https://www.google.com/maps/dir/?api=1&destination=4145+Avenue+Paul+Akoto+Yao+Abidjan" target="_blank" rel="noopener" class="menu-link font-medium text-gray-700 px-3 py-2 rounded inline-flex items-center gap-2">
                       <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                       <span class="hidden sm:inline">GPS</span>
                    </a>
                </li>
                <li class="relative">
                    <button id="industriesToggle" class="menu-link font-medium text-gray-700 px-3 py-2 rounded inline-flex items-center gap-2">
                        <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h-2M5 21h2M12 11V7m0 8v-4m0 8h.01"></path></svg>
                        <span class="hidden sm:inline">Industries</span>
                    </button>
                    <ul id="industriesMenu" class="dropdown-menu hidden absolute left-0 mt-2 w-64 bg-white border rounded-md shadow-lg py-2 z-50">
                        <li><a href="?ind=mines">Mines</a></li>
                        <li><a href="?ind=petrole-gaz">P√©trole & gaz</a></li>
                        <li><a href="?ind=chimie">Chimie</a></li>
                        <li><a href="?ind=energie">√ânergie</a></li>
                        <li><a href="?ind=agro">Agro-alimentaire</a></li>
                        <li><a href="?ind=cimenterie">Cimenterie</a></li>
                        <li><a href="?ind=infrastructure">Infrastructure</a></li>
                        <li><a href="?ind=carrieres">Carri√®res</a></li>
                        <li><a href="?ind=btp">BTP</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <div class="fixed-expertise-band no-print">
        <strong>MULTIPARTS :</strong> 30 ans d'expertise en sourcing critique international √† votre service.
    </div>

    <a href="#top" class="back-to-top no-print" title="Haut de page">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
    </a>

    <div class="catalog-container-pro" id="top">
        
        <div class="header-title-box">
            <h1 class="text-3xl sm:text-5xl font-extrabold text-slate-800 tracking-tight" id="page-title">NOS MARQUES</h1>
            <h2 class="text-lg sm:text-2xl text-blue-700 mt-2 font-light" id="page-subtitle">Chargement...</h2>
        </div>

        <div class="content-wrapper">
            <div class="rounded-xl overflow-hidden shadow-md mb-8">
                <img class="w-full h-auto object-cover max-h-[400px]" id="cover-image" src="" alt="Cover" onerror="this.style.display='none'">
            </div>

            <div class="expertise-intro-box">
                <div class="flex flex-col items-center justify-center gap-3">
                    <svg class="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <p id="company-activity" class="text-lg font-medium leading-relaxed"></p>
                </div>
            </div>

            <div class="mb-10 p-5 bg-slate-50 border border-slate-200 rounded-lg">
                <div class="flex items-start gap-4">
                    <div class="bg-blue-100 p-2 rounded-full text-blue-600 shrink-0">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </div>
                    <div>
                        <h3 class="text-sm font-bold text-slate-800 uppercase tracking-wide mb-1">P√©rim√®tre de fourniture</h3>
                        <p class="text-sm text-slate-600">
                            En plus des pi√®ces d√©tach√©es, nous fournissons les <strong>machines neuves</strong> et <strong>organes complets</strong> (moteurs, bo√Ætes, ponts).
                            <span class="block mt-1 italic text-slate-500 text-xs">* La liste ci-dessous est indicative. Contactez-nous pour vos besoins sp√©cifiques.</span>
                        </p>
                    </div>
                </div>
            </div>

            <div class="scroll-arrow-wrapper no-print" onclick="document.getElementById('catalog-container').scrollIntoView({behavior: 'smooth'})">
                <div class="scroll-arrow">
                    <span>D√©couvrir les familles</span>
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>

            <div id="catalog-container"></div>
        </div>

        <footer class="bg-slate-900 text-white py-12 main-footer no-print rounded-b-lg">
            <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-10 text-sm">
                <div>
                    <h4 class="font-bold text-lg mb-4 text-blue-400">MULTIPARTS</h4>
                    <p class="text-slate-300">Directeur G√©n√©ral : Michael MENAGER</p>
                    <p class="text-slate-300">Directeur Projets : Rafiou OYEOSSI</p>
                    <p class="text-slate-400 mt-2">Abidjan, C√¥te d'Ivoire</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4 text-blue-400">Contact Rapide</h4>
                    <p class="mb-2"><a href="tel:+2252721250146" class="hover:text-white transition">üìû +225 27 21 25 01 46</a></p>
                    <p class="mb-2"><a href="tel:+2250709399529" class="hover:text-white transition">üì± +225 07 09 39 95 29</a></p>
                    <p><a href="mailto:contact@multipartsci.com" class="hover:text-white transition">‚úâÔ∏è contact@multipartsci.com</a></p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4 text-blue-400">Acc√®s Direct</h4>
                    <ul class="space-y-2 text-slate-300">
                        <li><a href="?ind=mines" class="hover:text-white">Mines</a></li>
                        <li><a href="?ind=btp" class="hover:text-white">BTP & Construction</a></li>
                        <li><a href="?ind=petrole-gaz" class="hover:text-white">P√©trole & Gaz</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center text-slate-500 text-xs mt-10 border-t border-slate-800 pt-6">
                ¬© 2025 MULTIPARTS C√¥te d‚ÄôIvoire. Tous droits r√©serv√©s.
            </div>
        </footer>
    </div>

<script>
document.addEventListener("DOMContentLoaded", async () => {
    const urlParams = new URLSearchParams(window.location.search);
    const industry = urlParams.get('ind') || 'mines';
    const dataFile = `data/${industry}.json`;

    try {
        const response = await fetch(dataFile);
        if (!response.ok) throw new Error("Fichier introuvable");
        const data = await response.json();
        buildPage(data);
        initInteractions();
    } catch (error) {
        console.error("Erreur:", error);
        document.getElementById('page-subtitle').textContent = "Erreur de chargement des donn√©es.";
        if (industry !== 'mines') window.location.href = '?ind=mines';
    }
});

function buildPage(data) {
    const esc = s => (s ? String(s).replace(/&/g,'&').replace(/</g,'<').replace(/>/g,'>') : '');

    document.getElementById('page-title').textContent = data.meta.pageTitle;
    document.getElementById('page-subtitle').textContent = data.meta.pageSubtitle;
    const coverImg = document.getElementById('cover-image');
    coverImg.src = data.meta.coverImage;
    coverImg.onerror = function() { this.style.display = 'none'; };
    document.title = `Catalogue MULTIPARTS - ${data.meta.pageSubtitle}`;
    
    if(data.meta.description) {
        document.getElementById('company-activity').innerHTML = esc(data.meta.description);
    }

    const container = document.getElementById('catalog-container');
    const summaryMenu = document.getElementById('sommaireMenu');
    container.innerHTML = ''; summaryMenu.innerHTML = '';

    data.sections.forEach((section) => {
        const linkId = section.id;
        summaryMenu.innerHTML += `<li><a href="#${linkId}">${esc(section.title)}</a></li>`;

        const sectionHTML = `
        <div class="table-group" data-section="${linkId}" id="${linkId}">
            <div class="section-header">
                <div class="flex items-center">
                    <img src="${esc(section.icon)}" class="rounded w-8 h-8 mr-3" alt="" onerror="this.style.display='none'">
                    <h3>${esc(section.title)}</h3>
                </div>
                <div class="toggle-icon">+</div>
            </div>
            <div class="section-content">
                ${section.sectionImage ? `<img class="w-full sm:w-2/3 mx-auto h-auto rounded-lg mb-6 block shadow-sm border border-gray-100" src="${esc(section.sectionImage)}" alt="${esc(section.title)}" onerror="this.style.display='none'">` : ''}
                
                <div class="table-container">
                    <table class="table-custom">
                        <thead><tr><th class="w-1/3">${esc(section.tableHeaders[0])}</th><th class="w-2/3">${esc(section.tableHeaders[1])}</th></tr></thead>
                        <tbody>
                            ${section.items.map(item => {
                                const detailsList = item.details.map(d => `<li>${esc(d)}</li>`).join('');
                                const detailsPreview = item.details.slice(0, 4).join(', ') + (item.details.length > 4 ? '‚Ä¶' : '');
                                return `
                                <tr class="brand-row" tabindex="0">
                                    <td>
                                        ${esc(item.brand)}
                                        <div class="text-xs font-normal text-gray-500 mt-1">${esc(item.specialization)}</div>
                                        <div class="consumables-popup no-print">
                                            <strong class="block mb-2 text-blue-800 border-b pb-1">${esc(item.brand)} - D√©tails</strong>
                                            <ul class="list-disc pl-4 space-y-1">${detailsList}</ul>
                                        </div>
                                    </td>
                                    <td><div class="consumables-inline">${esc(detailsPreview)}</div></td>
                                </tr>`;
                            }).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>`;
        container.insertAdjacentHTML('beforeend', sectionHTML);
    });
}

function initInteractions() {
    const preloader = document.getElementById('preloader');
    const bar = document.getElementById('loaderBar');
    const text = document.getElementById('loaderText');
    const images = Array.from(document.images);
    let imagesLoaded = 0; const totalImages = images.length;

    function imageLoaded() {
        imagesLoaded++;
        const percent = Math.round((imagesLoaded / totalImages) * 100);
        if(bar) bar.style.width = percent + '%';
        if(text) text.textContent = `Chargement... ${percent}%`;
        if (imagesLoaded === totalImages) finishLoad();
    }
    function finishLoad() {
        setTimeout(() => { if(preloader) { preloader.style.opacity = '0'; document.body.classList.remove('loading'); setTimeout(() => preloader.remove(), 500); } }, 300);
    }
    if (totalImages === 0) finishLoad();
    else images.forEach(img => { if (img.complete) imageLoaded(); else { img.addEventListener('load', imageLoaded); img.addEventListener('error', imageLoaded); } });
    setTimeout(finishLoad, 5000);

    // Accord√©on
    const groups = document.querySelectorAll('.table-group');
    groups.forEach(group => {
        const header = group.querySelector('.section-header');
        const content = group.querySelector('.section-content');
        
        header.addEventListener('click', () => {
            const isOpen = group.classList.contains('active');
            
            // Fermer les autres (Optionnel, commenter pour garder plusieurs ouverts)
            groups.forEach(g => {
                g.classList.remove('active');
                g.querySelector('.section-content').classList.remove('open');
                g.querySelector('.toggle-icon').textContent = '+';
            });

            if (!isOpen) {
                group.classList.add('active');
                content.classList.add('open');
                group.querySelector('.toggle-icon').textContent = '‚àí';
                setTimeout(() => {
                    const offset = 80; 
                    const top = group.getBoundingClientRect().top + window.pageYOffset - offset;
                    window.scrollTo({top: top, behavior: 'smooth'});
                }, 100);
            }
        });
    });

    // Dropdown
    const setupDropdown = (tid, mid) => {
        const t = document.getElementById(tid), m = document.getElementById(mid);
        if(t && m) {
            t.addEventListener('click', (e) => { e.stopPropagation(); m.classList.toggle('hidden'); });
            m.addEventListener('click', () => m.classList.add('hidden'));
        }
    };
    setupDropdown('sommaireToggle', 'sommaireMenu');
    setupDropdown('industriesToggle', 'industriesMenu');
    document.addEventListener('click', () => document.querySelectorAll('.dropdown-menu').forEach(m => m.classList.add('hidden')));
}
</script>
</body>
</html>
