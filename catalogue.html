<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Catalogue officiel MULTIPARTS : D√©couvrez nos marques partenaires pour le secteur industriel en C√¥te d'Ivoire et Afrique de l'Ouest.">
    <title>Catalogue MULTIPARTS - Marques Partenaires</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <style>
        /* Version_67_Mobile_Interaction_Fix */
        :root {
            --primary-blue: #1e3a8a;
            --hover-blue: #eff6ff;
            --accent-green: #15803d;
            --text-main: #334155;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
            color: var(--text-main);
            line-height: 1.6;
            scroll-behavior: smooth;
            font-size: 16px; /* Taille standard ajust√©e */
        }
        
        /* PRELOADER */
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #ffffff; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.5s ease-out, visibility 0.5s; }
        .loader-content { text-align: center; width: 80%; max-width: 300px; }
        .loader-bar-bg { width: 100%; height: 6px; background-color: #e2e8f0; border-radius: 3px; margin-top: 20px; overflow: hidden; }
        .loader-bar-fill { height: 100%; width: 0%; background-color: var(--primary-blue); transition: width 0.2s ease; }
        .loader-text { margin-top: 10px; color: #64748b; font-size: 0.9rem; font-weight: 600; }
        body.loading { overflow: hidden; }

        /* CONTENEUR */
        .catalog-container-pro {
            max-width: 1280px; margin: 0 auto; background-color: white; min-height: 100vh; position: relative; box-shadow: 0 0 50px rgba(0,0,0,0.08);
        }
        .content-wrapper { padding: 20px 40px; }
        @media (max-width: 640px) { .content-wrapper { padding: 15px; } }

        /* HEADER BANNER */
        .header-banner { 
            position: relative; height: 200px; /* Taille r√©duite */
            background-size: cover; background-position: center;
            display: flex; align-items: center; justify-content: center; text-align: center; color: white;
        }
        .header-overlay { position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(30, 58, 138, 0.4), rgba(30, 58, 138, 0.65)); }
        .header-content { position: relative; z-index: 10; padding: 0 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.6); }
        .header-title { font-size: 2rem; font-weight: 800; letter-spacing: -1px; text-transform: uppercase; margin-bottom: 5px; }
        .header-subtitle { font-size: 1rem; font-weight: 400; opacity: 1; }

        @media (max-width: 640px) { .header-banner { height: 160px; } .header-title { font-size: 1.5rem; } .header-subtitle { font-size: 0.85rem; } }

        /* TABLEAUX */
        .table-custom { border-collapse: separate; border-spacing: 0; width: 100%; border: 1px solid #cbd5e1; border-radius: 8px; overflow: visible; }
        .table-custom th { background-color: #f8fafc; color: var(--primary-blue); font-weight: 800; padding: 16px 20px; text-align: left; font-size: 1rem; text-transform: uppercase; border-bottom: 2px solid #e2e8f0; }
        .table-custom td { padding: 14px 20px; border-bottom: 1px solid #e2e8f0; vertical-align: top; font-size: 1rem; position: relative; }
        .table-custom tr:last-child td { border-bottom: none; }
        .table-custom tr { transition: background-color 0.2s; cursor: pointer; } /* Cursor pointer pour indiquer clic mobile */
        .table-custom tr:hover { background-color: #f0fdf4 !important; z-index: 50; }

        .brand-row td:first-child { width: 35%; font-weight: 700; color: var(--primary-blue); } 
        .consumables-inline { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100%; color: #475569; }
        
        /* POPUP & INTERACTION MOBILE */
        .consumables-popup {
            display: none; position: absolute; left: 100%; top: -20px; margin-left: 15px; width: 350px; 
            background: #ffffff; border: 1px solid #cbd5e1; box-shadow: 0 15px 30px rgba(0,0,0,0.25); 
            padding: 20px; border-radius: 8px; z-index: 999; color: #334155; font-size: 0.95rem; line-height: 1.5; font-weight: normal;
        }
        .consumables-popup::before { content: ""; position: absolute; left: -8px; top: 30px; width: 16px; height: 16px; background: white; transform: rotate(45deg); border-left: 1px solid #cbd5e1; border-bottom: 1px solid #cbd5e1; }
        
        /* Desktop Hover */
        @media (min-width: 769px) {
            .brand-row:hover td:first-child .consumables-popup { display: block; }
            .brand-row:nth-last-child(-n+3) .consumables-popup { top: auto; bottom: 0; }
            .brand-row:nth-last-child(-n+3) .consumables-popup::before { top: auto; bottom: 20px; border-top: 1px solid #cbd5e1; border-right: 1px solid #cbd5e1; border-left: none; border-bottom: none; }
        }

        /* Mobile Click/Tap Logic */
        @media (max-width: 768px) {
            .table-custom { display: block; border: none; }
            .table-custom thead { display: none; }
            .table-custom tbody, .table-custom tr, .table-custom td { display: block; width: 100%; }
            .table-custom tr { margin-bottom: 15px; border: 1px solid #e2e8f0; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
            .table-custom td { padding: 12px; border-bottom: 1px solid #f1f5f9; }
            .table-custom td:first-child { background: #f8fafc; border-bottom: 1px solid #e2e8f0; }
            
            /* Le popup devient statique (dans le flux) sur mobile */
            .consumables-popup { 
                position: static; margin: 10px 0 0 0; width: 100%; 
                box-shadow: none; border: 1px dashed #cbd5e1; background: #fff; 
                padding: 10px; z-index: 1;
            }
            .consumables-popup::before { display: none; }
            .consumables-inline { display: none; } 
            
            /* Affichage via classe JS .mobile-active */
            .brand-row.mobile-active .consumables-popup { display: block !important; }
            .brand-row.mobile-active { background-color: #f0fdf4 !important; border-color: #166534; }
        }

        .no-screen { display: none !important; }        
        
        /* SECTIONS */
        .table-group { 
            margin-bottom: 30px; border: 1px solid #e2e8f0; border-radius: 12px; background: white; overflow: visible; transition: box-shadow 0.3s; 
            scroll-margin-top: 140px; 
        }
        .table-group:hover { box-shadow: 0 10px 30px rgba(0,0,0,0.06); border-color: #cbd5e1; }
        
        .section-header { display: flex; align-items: center; justify-content: space-between; padding: 15px 25px; background: #ffffff; cursor: pointer; border-radius: 12px; transition: background 0.3s ease, border-radius 0.3s; }
        .section-header:hover { background: #eff6ff; }
        .table-group.active .section-header { border-bottom: 1px solid #e2e8f0; background: #f8fafc; border-radius: 12px 12px 0 0; }
        .section-header h3 { font-size: 1.25rem; font-weight: 800; color: var(--primary-blue); margin: 0; display: flex; align-items: center; gap: 15px; }
        @media (max-width: 640px) { .section-header h3 { font-size: 1.1rem; } }

        .toggle-icon { width: 32px; height: 32px; border-radius: 50%; background: #f1f5f9; color: #64748b; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.4rem; transition: all 0.3s; }
        .table-group.active .toggle-icon { background: var(--primary-blue); color: white; transform: rotate(180deg); }

        .section-content { display: none; padding: 25px; } 
        .section-content.open { display: block; animation: slideDown 0.3s ease-out; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
          
        .back-to-top { position: fixed; bottom: 20px; right: 20px; z-index: 30; background-color: var(--primary-blue); color: white; border-radius: 50%; padding: 14px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25); transition: background-color 0.3s; }
        .back-to-top:hover { background-color: #172554; }

        .whatsapp-float { position: fixed; bottom: 20px; left: 20px; background-color: #25d366; color: white; border-radius: 50%; width: 60px; height: 60px; z-index: 40; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: transform 0.3s; }
        .whatsapp-float:hover { transform: scale(1.1); }
        
        .expertise-intro-box { background: #fffbeb; border-left: 6px solid #f59e0b; padding: 20px; margin-bottom: 20px; color: #78350f; font-size: 1rem; border-radius: 0 8px 8px 0; }

        .section-image-wrapper { text-align: center; margin-bottom: 25px; }
        .section-image-wrapper img { max-width: 50%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: inline-block; }
        @media (max-width: 640px) { .section-image-wrapper img { max-width: 90%; } }

        .menu-link { transition: background 0.18s; }
        .menu-link:hover { background: #eff6ff; color: var(--primary-blue) !important; }
        .dropdown-menu a { display: block; padding: 10px 16px; color: #1f2937; text-decoration: none; transition: background-color 0.12s; }
        .dropdown-menu a:hover { background-color: #f1f5f9; color: var(--primary-blue); }
        
        /* 3. SCROLL ARROW (Cach√© sur mobile "hidden md:flex") */
        .scroll-arrow-wrapper { text-align: center; margin-bottom: 30px; margin-top: 10px; display: none; }
        @media (min-width: 768px) { .scroll-arrow-wrapper { display: flex; justify-content: center; } } /* Visible seulement sur PC */
        
        .scroll-arrow { display: inline-flex; flex-direction: column; align-items: center; color: #94a3b8; cursor: pointer; transition: color 0.3s; }
        .scroll-arrow:hover { color: var(--primary-blue); }
        .scroll-arrow svg { width: 36px; height: 36px; animation: bounce 2s infinite; }
        .scroll-arrow span { font-size: 0.85rem; text-transform: uppercase; font-weight: 700; letter-spacing: 1px; margin-bottom: 8px; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }

        /* HEADER & INFO BAND HEIGHT CALCULATION FIX */
        .sticky-header-container { position: sticky; top: 0; z-index: 50; }

        @media print {
            .catalog-container-pro { box-shadow: none; max-width: 100%; margin: 0; padding: 0; }
            .header-banner, .scroll-arrow-wrapper, .whatsapp-float, .back-to-top, .toggle-icon, .sticky-header-container { display: none !important; }
            .section-content { display: block !important; padding: 0; }
            .table-group { border: none; margin-bottom: 20px; }
            .section-header { border-bottom: 2px solid #000; padding: 10px 0; }
        }
    </style>
</head>
<body class="loading">

    <div id="preloader">
        <div class="loader-content">
            <img src="logo-multiparts.png" alt="Chargement..." style="height: 50px; margin: 0 auto;">
            <div class="loader-bar-bg"><div class="loader-bar-fill" id="loaderBar"></div></div>
            <div class="loader-text" id="loaderText">Chargement... 0%</div>
        </div>
    </div>

    <a href="https://wa.me/2250709399529" class="whatsapp-float no-print" target="_blank" rel="noopener" aria-label="Discuter sur WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
            <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
        </svg>
    </a>

    <div class="sticky-header-container no-print">
        <header class="flex items-center px-4 sm:px-6 py-4 bg-white shadow-sm border-b border-gray-100">
            <a href="index.html" class="shrink-0 sm:mr-10">
                <img src="logo-multiparts.png" alt="Logo" class="h-28 w-auto">
            </a>
            <nav class="flex-1 min-w-0 hidden md:block">
                <ul class="flex flex-wrap space-x-6 justify-end items-center w-full text-lg">
                    <li class="relative">
                        <button id="sommaireToggle" class="menu-link font-bold text-gray-700 px-4 py-3 rounded inline-flex items-center gap-2 group">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
                            Sommaire
                        </button>
                        <ul id="sommaireMenu" class="dropdown-menu hidden absolute left-0 mt-2 w-72 bg-white border rounded-md shadow-xl py-2 z-50"></ul>
                    </li>
                    
                    <li>
                        <a href="https://www.google.com/maps/dir/?api=1&destination=4145+Avenue+Paul+Akoto+Yao+Abidjan" target="_blank" rel="noopener" class="menu-link font-bold text-gray-700 px-4 py-3 rounded inline-flex items-center gap-2">
                           <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                           Localisation
                        </a>
                    </li>

                    <li class="relative">
                        <button id="industriesToggle" class="menu-link font-bold text-gray-700 px-4 py-3 rounded inline-flex items-center gap-2">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h-2M5 21h2M12 11V7m0 8v-4m0 8h.01"></path></svg>
                            Industries
                        </button>
                        <ul id="industriesMenu" class="dropdown-menu hidden absolute left-0 mt-2 w-64 bg-white border rounded-md shadow-xl py-2 z-50">
                            <li><a href="?ind=mines">Mines</a></li>
                            <li><a href="?ind=petrole-gaz">P√©trole & gaz</a></li>
                            <li><a href="?ind=chimie">Chimie</a></li>
                            <li><a href="?ind=energie">√ânergie</a></li>
                            <li><a href="?ind=agro">Agro-alimentaire</a></li>
                            <li><a href="?ind=cimenterie">Cimenterie</a></li>
                            <li><a href="?ind=infrastructure">Infrastructure</a></li>
                            <li><a href="?ind=carrieres">Carri√®res</a></li>
                            <li><a href="?ind=btp">BTP</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="mailto:contact@multipartsci.com?cc=procurement@multipartsci.com" class="bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-md font-bold transition shadow-md">
                            Demander un Devis
                        </a>
                    </li>
                </ul>
            </nav>
            
            <nav class="flex-1 md:hidden flex justify-end gap-3">
                <a href="index.html" class="p-2 text-blue-900 bg-blue-50 rounded-full"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6"></path></svg></a>
                <a href="https://www.google.com/maps/dir/?api=1&destination=4145+Avenue+Paul+Akoto+Yao+Abidjan" target="_blank" class="p-2 text-gray-700 hover:bg-gray-100 rounded-full"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></a>
                <a href="mailto:contact@multipartsci.com?cc=procurement@multipartsci.com" class="p-2 bg-yellow-500 text-white rounded-full"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></a>
            </nav>
        </header>

        <div class="fixed-expertise-band bg-green-800 text-white text-center py-1 text-[10px] md:text-sm shadow-md">
            <strong>MULTIPARTS :</strong> 30 ans d'expertise en sourcing critique international √† votre service.
        </div>
    </div>

    <a href="#top" class="back-to-top no-print" title="Haut de page">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
    </a>

    <div class="catalog-container-pro" id="top">
        
        <div class="header-banner" id="header-banner">
            <div class="header-overlay"></div>
            <div class="header-content">
                <h1 class="header-title" id="page-title">CHARGEMENT...</h1>
                <h2 class="header-subtitle" id="page-subtitle">...</h2>
            </div>
        </div>

        <div class="content-wrapper">
            
            <div class="expertise-intro-box">
                <div class="flex flex-col items-center justify-center gap-3">
                    <svg class="w-10 h-10 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <p id="company-activity" class="font-medium leading-relaxed"></p>
                </div>
            </div>

            <div class="scroll-arrow-wrapper no-print hidden md:flex" id="discover-btn">
                <div class="scroll-arrow">
                    <span>D√©couvrir les familles</span>
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>

            <div id="catalog-container"></div>
        </div>

        <footer class="bg-slate-900 text-white py-12 main-footer no-print rounded-b-lg">
            <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-10 text-sm">
                <div>
                    <h4 class="font-bold text-lg mb-4 text-blue-400">MULTIPARTS</h4>
                    <p class="text-slate-300">Directeur G√©n√©ral : Michael MENAGER</p>
                    <p class="text-slate-300">Directeur Projets : Rafiou OYEOSSI</p>
                    <p class="text-slate-400 mt-2">Abidjan, C√¥te d'Ivoire</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4 text-blue-400">Contact Rapide</h4>
                    <p class="mb-2"><a href="tel:+2252721250146" class="hover:text-white transition">üìû +225 27 21 25 01 46</a></p>
                    <p class="mb-2"><a href="tel:+2250709399529" class="hover:text-white transition">üì± +225 07 09 39 95 29</a></p>
                    <p><a href="mailto:contact@multipartsci.com" class="hover:text-white transition">‚úâÔ∏è contact@multipartsci.com</a></p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4 text-blue-400">Acc√®s Direct</h4>
                    <ul class="space-y-2 text-slate-300">
                        <li><a href="?ind=mines" class="hover:text-white">Mines</a></li>
                        <li><a href="?ind=btp" class="hover:text-white">BTP & Construction</a></li>
                        <li><a href="?ind=petrole-gaz" class="hover:text-white">P√©trole & Gaz</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center text-slate-500 text-xs mt-10 border-t border-slate-800 pt-6">
                ¬© 2025 MULTIPARTS C√¥te d‚ÄôIvoire. Tous droits r√©serv√©s.
            </div>
        </footer>
    </div>

<script>
document.addEventListener("DOMContentLoaded", async () => {
    const urlParams = new URLSearchParams(window.location.search);
    const industry = urlParams.get('ind') || 'mines';
    const dataFile = `data/${industry}.json`;

    try {
        const response = await fetch(dataFile);
        if (!response.ok) throw new Error("Fichier introuvable");
        const data = await response.json();
        buildPage(data);
        initInteractions();
    } catch (error) {
        console.error("Erreur:", error);
        document.getElementById('page-subtitle').textContent = "Erreur de chargement.";
        if (industry !== 'mines') window.location.href = '?ind=mines';
    }
});

function buildPage(data) {
    const esc = s => (s ? String(s).replace(/&/g,'&').replace(/</g,'<').replace(/>/g,'>') : '');

    document.getElementById('page-title').textContent = data.meta.pageTitle;
    document.getElementById('page-subtitle').textContent = data.meta.pageSubtitle;
    document.title = `Catalogue MULTIPARTS - ${data.meta.pageSubtitle}`;
    
    if(data.meta.coverImage) {
        document.getElementById('header-banner').style.backgroundImage = `url('${esc(data.meta.coverImage)}')`;
    }
    
    if(data.meta.description) {
        document.getElementById('company-activity').innerHTML = esc(data.meta.description);
    }

    const container = document.getElementById('catalog-container');
    const summaryMenu = document.getElementById('sommaireMenu');
    container.innerHTML = ''; summaryMenu.innerHTML = '';

    data.sections.forEach((section) => {
        const linkId = section.id;
        summaryMenu.innerHTML += `<li><a href="#${linkId}" data-target="${linkId}">${esc(section.title)}</a></li>`;

        const sectionHTML = `
        <div class="table-group" id="${linkId}">
            <div class="section-header">
                <div class="flex items-center">
                    <img src="${esc(section.icon)}" class="rounded w-10 h-10 mr-4 shadow-sm" alt="" onerror="this.style.display='none'">
                    <h3>${esc(section.title)}</h3>
                </div>
                <div class="toggle-icon">+</div>
            </div>
            <div class="section-content">
                <div class="expertise-box mb-6">
                    <p class="text-gray-700 italic"><strong>Expertise :</strong> ${esc(section.expertiseText)}</p>
                </div>
                ${section.sectionImage ? `
                <div class="section-image-wrapper">
                    <img src="${esc(section.sectionImage)}" alt="${esc(section.title)}" onerror="this.style.display='none'">
                </div>` : ''}
                <div class="table-container">
                    <table class="table-custom">
                        <thead><tr><th class="w-1/3">${esc(section.tableHeaders[0])}</th><th class="w-2/3">${esc(section.tableHeaders[1])}</th></tr></thead>
                        <tbody>
                            ${section.items.map(item => {
                                const detailsList = item.details.map(d => `<li>${esc(d)}</li>`).join('');
                                const detailsPreview = item.details.slice(0, 4).join(', ') + (item.details.length > 4 ? '‚Ä¶' : '');
                                return `
                                <tr class="brand-row" tabindex="0">
                                    <td>
                                        ${esc(item.brand)}
                                        <div class="text-sm font-normal text-gray-500 mt-1">${esc(item.specialization)}</div>
                                        <div class="consumables-popup no-print">
                                            <strong class="block mb-2 text-blue-800 border-b pb-1">${esc(item.brand)}</strong>
                                            <ul class="list-disc pl-4 space-y-1">${detailsList}</ul>
                                        </div>
                                    </td>
                                    <td><div class="consumables-inline">${esc(detailsPreview)}</div></td>
                                </tr>`;
                            }).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>`;
        container.insertAdjacentHTML('beforeend', sectionHTML);
    });
}

function initInteractions() {
    const preloader = document.getElementById('preloader');
    const bar = document.getElementById('loaderBar');
    const text = document.getElementById('loaderText');
    const images = Array.from(document.images);
    let imagesLoaded = 0; const totalImages = images.length;
    function imageLoaded() {
        imagesLoaded++;
        const percent = Math.round((imagesLoaded / totalImages) * 100);
        if(bar) bar.style.width = percent + '%';
        if(text) text.textContent = `Chargement... ${percent}%`;
        if (imagesLoaded === totalImages) finishLoad();
    }
    function finishLoad() {
        setTimeout(() => { if(preloader) { preloader.style.opacity = '0'; document.body.classList.remove('loading'); setTimeout(() => preloader.remove(), 500); } }, 300);
    }
    if (totalImages === 0) finishLoad();
    else images.forEach(img => { if (img.complete) imageLoaded(); else { img.addEventListener('load', imageLoaded); img.addEventListener('error', imageLoaded); } });
    setTimeout(finishLoad, 5000);

    function getScrollOffset() {
        const header = document.querySelector('.sticky-header-container');
        return header ? header.offsetHeight + 20 : 160;
    }

    function scrollToSection(element) {
        if (!element) return;
        const elementPosition = element.getBoundingClientRect().top + window.pageYOffset;
        const offsetPosition = elementPosition - getScrollOffset();
        window.scrollTo({ top: offsetPosition, behavior: "smooth" });
    }

    const discoverBtn = document.getElementById('discover-btn');
    if(discoverBtn) {
        discoverBtn.addEventListener('click', () => {
            const firstGroup = document.querySelector('.table-group');
            scrollToSection(firstGroup);
        });
    }

    const groups = document.querySelectorAll('.table-group');
    groups.forEach(group => {
        const header = group.querySelector('.section-header');
        const content = group.querySelector('.section-content');
        
        header.addEventListener('click', () => {
            const isOpen = group.classList.contains('active');
            groups.forEach(g => {
                g.classList.remove('active');
                g.querySelector('.section-content').classList.remove('open');
                g.querySelector('.toggle-icon').textContent = '+';
            });

            if (!isOpen) {
                group.classList.add('active');
                content.classList.add('open');
                group.querySelector('.toggle-icon').textContent = '‚àí';
                setTimeout(() => scrollToSection(group), 50);
            }
        });
    });

    const setupDropdown = (tid, mid) => {
        const t = document.getElementById(tid), m = document.getElementById(mid);
        if(t && m) {
            t.addEventListener('click', (e) => { e.stopPropagation(); m.classList.toggle('hidden'); });
            m.addEventListener('click', (e) => {
                const link = e.target.closest('a');
                if (link && link.hash) {
                    e.preventDefault();
                    m.classList.add('hidden');
                    const targetId = link.hash.substring(1);
                    const targetGroup = document.getElementById(targetId);
                    if (targetGroup) {
                        if (!targetGroup.classList.contains('active')) {
                            targetGroup.querySelector('.section-header').click();
                        } else {
                            scrollToSection(targetGroup);
                        }
                    }
                } else {
                    m.classList.add('hidden');
                }
            });
        }
    };
    setupDropdown('sommaireToggle', 'sommaireMenu');
    setupDropdown('industriesToggle', 'industriesMenu');
    document.addEventListener('click', () => document.querySelectorAll('.dropdown-menu').forEach(m => m.classList.add('hidden')));

    // 3. GESTION CLIC MOBILE POUR LES D√âTAILS
    document.addEventListener('click', (e) => {
        const row = e.target.closest('.brand-row');
        // Si on est sur un √©cran mobile et qu'on clique sur une ligne de marque
        if (row && window.innerWidth < 769) {
            // Fermer les autres lignes ouvertes
            document.querySelectorAll('.brand-row.mobile-active').forEach(r => {
                if(r !== row) r.classList.remove('mobile-active');
            });
            // Basculer l'√©tat de la ligne actuelle
            row.classList.toggle('mobile-active');
        }
    });
}
</script>
</body>
</html>
